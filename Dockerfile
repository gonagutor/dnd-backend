FROM golang:alpine

WORKDIR /dnd
COPY . .
RUN go build -o dnd-backend

RUN ./dnd-backend
ARG POSTGRES_PASSWORD
ARG POSTGRES_USER
ARG POSTGRES_DB
ARG POSTGRES_HOST
ARG POSTGRES_PORT
ARG LOG_SQL

ARG JWT_SECRET

ARG SMTP_FROM
ARG SMTP_USER
ARG SMTP_PASSWORD
ARG SMTP_HOST
ARG SMTP_PORT

ARG BASE_URL